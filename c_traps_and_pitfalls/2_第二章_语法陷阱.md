[TOC]

# 第二章 语法陷阱

## 2.1 理解函数声明

- C 变量的声明
  - 一般形式：包含两个部分，分别是
    - 类型
    - 一组类似表达式的声明符
  - 示例
    - float f, g;
    - float ((f));  // 由于 ((f)) 为 float 类型，所以 f 也为 float 类型

- C 函数的声明（同样符合 C 变量的声明逻辑）
  - 示例
    - float ff();  // 表达式 ff() 的求值结果为 float，即函数的返回值为 float 类型
    - float *pf;  // 表达式 *pf 的求职结果为 float，即 pf 为指向 float 类型的指针
    - float *g();  // 注：() 的优先级高于 *
    - float (*h)();  // h 是一个指针，指向的是一个函数，该函数没有参数且返回值为 float 类型
    - float (*f)(int);
  - 示例
    - (*(void(*)())0)()
      - 如果 fp 是一个函数指针
        - 那么 \*fp 就是该指针指向的函数，(\*fp)() 就是调用该函数的方式
        - ==fp() 是 (\*fp)() 的简写形式==
      - 上式可以改写为
        - typedef void (\*funcptr) ();
        - (\* (funcptr)0) ();
    - void (\*signal(int, void(\*)(int))) (int);
      - 上式可以改写为
        - typedef void (*HANDLER) (int);
        - HANDLER signal(int, HANDLER);

> 一旦知道了如何声明一个给定类型的变量，那么该类型的类型转换符就很容易得到了：只需要把声明中的变量名和声明末尾的分号去掉，再将剩余部分用一个括号整个 “括起来” 即可。

## 2.2 运算符的优先级问题

